
@model CentralisationV0.Models.Entities.ViewModels.DataAndDatabaseViewModel





<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>

    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <!-- My CSS -->
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/Content/styles/style.css">
    <link rel="stylesheet" href="~/Content/styles/styleDonnee.css">
    <title>GEOMATIC</title>
</head>
<body>


    <div id="successMessage" style="display: none;">
        @TempData["SuccessMessage"]
    </div>



    <!-- SIDEBAR -->
    <section id="sidebar">

        <div class="logo-nav">
            <a href="index.html" class="brand">
                <img src="~/Content/img/logo-geomatic.png" style="width: 70%;" />
            </a>
        </div>

        <ul class="side-menu top">
            <li class="active">
                <a href="index.html">
                    <i class='bx bxs-dashboard'></i>
                    <span class="text">Tableau de bord</span>
                </a>
            </li>
            <li>
                <a href="~/donnee/Index">
                    <i class='bx bxs-doughnut-chart'></i>
                    <span class="text">Données</span>
                </a>
            </li>
            <li>
                <a href="Projets.html">
                    <i class='bx bxs-shopping-bag-alt'></i>
                    <span class="text">Projets</span>
                </a>
            </li>

            <li>
                <a href="Clients.html">
                    <i class='bx bxs-message-dots'></i>
                    <span class="text">Clients</span>
                </a>
            </li>

        </ul>
        <ul class="side-menu">
            <li>
                <a href="Parametre.html">
                    <i class='bx bxs-cog'></i>
                    <span class="text">Paramètres</span>
                </a>
            </li>
            <li>
                <a href="Connexion.html" class="logout">
                    <i class='bx bxs-log-out-circle'></i>
                    <span class="text">Se déconnecter</span>
                </a>
            </li>
        </ul>
    </section>
    <!-- SIDEBAR -->
    <!-- CONTENT -->
    <section id="content">
        <!-- NAVBAR -->
        <nav>
            <i class='bx bx-menu'></i>

            <form id="globalSearchForm" action="#" onsubmit="globalSearch(event)">
                <div class="form-input">
                    <input type="search" id="globalSearchInput" placeholder="Recherche...">
                    <button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
                </div>
            </form>









            <input type="checkbox" id="switch-mode" hidden>
            <label for="switch-mode" class="switch-mode"></label>
            <a href="#" class="notification">
                <i class='bx bxs-bell'></i>
                <span class="num">8</span>
            </a>
            <a href="#" class="profile">
                <img src="img/people.png">
            </a>
        </nav>
        <!-- NAVBAR -->
        <!-- MAIN -->
        <main>
            <div class="head-title">
                <div class="left">
                    <h1>Jeu de Données</h1>

                </div>

            </div>

            <!-- <ul class="box-info">
                <li>
                    <i class='bx bxs-calendar-check' ></i>
                    <span class="text">
                        <h3>1020</h3>
                        <p>New Order</p>
                    </span>
                </li>
                <li>
                    <i class='bx bxs-group' ></i>
                    <span class="text">
                        <h3>2834</h3>
                        <p>Visitors</p>
                    </span>
                </li>
                <li>
                    <i class='bx bxs-dollar-circle' ></i>
                    <span class="text">
                        <h3>$2543</h3>
                        <p>Total Sales</p>
                    </span>
                </li>
            </ul> -->

            <div class="head-title">
                <div class="left">
                    <h1></h1>
                    <ul class="breadcrumb">

                        <li></li>
                        <li>

                        </li>
                    </ul>
                </div>

                <span data-toggle="modal" data-target="#ModalAdding" class="btn-download addData" style="margin-top: 10px;cursor:pointer">
                    <i class='bx bx-plus-circle'></i>
                    <span class="text">Ajouter les données</span>
                </span>

            </div>
            <div class="table-data">
                <div class="order">
                    <div class="head">
                        <i class='bx bx-filter'></i>
                        <i class='bx bx-search' id="filterIconData"></i>
                        <input type="text" id="searchInputData" class="hidden" placeholder="Recherche...">
                    </div>
                    <table id="dataTable" style="width: 150%;">
                        <thead>
                            <tr>

                                <th style="text-align: center;">Titre</th>
                                <th style="text-align: center;">Date de Réception</th>
                                <th style="text-align: center;">Date de Publication </th>
                                <th style="text-align: center;">Date Dernières Mise à Jour </th>
                                <th style="text-align: center;">Description </th>
                                <th style="text-align: center;">Catégorie</th>
                                <th style="text-align: center;">Thème</th>
                                <th style="text-align: center;">Couverture</th>
                                <th style="text-align: center;">Résolution Spatial</th>
                                <th style="text-align: center;">Résumé</th>
                                <th style="text-align: center;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="dataBody">
                            @if (Model != null)
                            {
                                foreach (var item in Model.DataList)
                                {
                <tr data-id="@item.IdData">

                    <td style="text-align: center;">@item.Title</td>
                    <td style="text-align: center;">@item.AcquisitionDate.ToString("dd/MM/yyyy")</td>
                    <td style="text-align: center;">@item.PublicationDate.ToString("dd/MM/yyyy")</td>
                    <td style="text-align: center;">@item.LastUpdatedDate.ToString("dd/MM/yyyy")</td>
                    <td style="text-align: center;">@item.Description</td>
                    <td style="text-align: center;">@item.Category</td>
                    <td style="text-align: center;">@item.Theme.nom</td>
                    <td style="text-align: center;">@item.Coverage</td>
                    <td style="text-align: center;">@item.SpatialResolution</td>
                    <td style="text-align: center;">@item.Summary</td>
                    <td style="text-align: center;">
                        <span class="status completed downdata-button">
                            <i class='bx bxs-download' style="font-size: 14px;" onclick="triggerFileUpload(@item.IdData)"></i>
                        </span>
                        <button type="button" class="status completed edit-button" style="background-color: green;" data-toggle="modal" data-target="#ModalUpdating" data-id="@item.IdData" onclick="populateData(this)">
                            <i class='bx bx-edit' style="font-size: 14px;"></i>
                        </button>
                        <span class="status completed show-button" style="background-color: rgb(224, 159, 125);" data-toggle="modal" data-target="#exampleModal" data-id="@item.IdData" onclick="showDataDetails(this)">
                            <i class='bx bx-show' style="font-size: 14px;"></i>
                        </span>
                        <button type="button" class="status completed delete-button" style="background-color: red;" data-id="@item.IdData" onclick="deleteData(this)">
                            <i class='bx bx-trash' style="font-size: 14px;"></i>
                        </button>
                    </td>
                </tr>
}
        }
                        </tbody>
                    </table>
                </div>
            </div>




            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>





            <form id="fileUploadForm" enctype="multipart/form-data" style="display:none;">
                <input type="file" id="fileInput" name="file" style="display:none;" />
                <input type="hidden" id="dataId" name="dataId" />
            </form>


            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

            <script type="text/javascript">

            </script>


            </tbody>
            </table>



            </div>


            </div>

            <div class="head-title">
                <div class="left">
                    <p>                       </p>
                    <h1>Base de Données</h1>

                </div>
            </div>

            <div class="head-title">
                <div class="left">
                    <h1></h1>
                    <ul class="breadcrumb">

                        <li></li>
                        <li>

                        </li>
                    </ul>
                </div>

                <span data-toggle="modal" data-target="#ModalBasedonneeAdding" class="btn-download addData" style="margin-top: 10px;cursor:pointer">
                    <i class='bx bx-plus-circle'></i>
                    <span class="text">Ajouter la base de donnée</span>
                </span>

            </div>


            </div>

            <div class="table-data">
                <div class="order">
                    <div class="head">
                        <!-- Icône de filtre et de recherche -->
                        <i class='bx bx-filter'></i>
                        <i class='bx bx-search' id="filterIconDatabase"></i>
                        <!-- Champ de recherche (initialement caché) -->
                        <input type="text" id="searchInputDatabase" class="hidden" placeholder="Recherche...">
                    </div>

                    <!-- Tableau pour afficher les résultats de recherche -->
                    <table style="width: 100%;" id="searchResultsTableDatabase">
                        <thead>
                            <tr>
                                <th style="text-align:left;">Base de données</th>
                                <th style="text-align: center;">Propriétaires</th>
                                <th style="text-align: center;">Date de Création</th>
                                <th style="text-align: center;">Description</th>
                                <th style="text-align: center;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="searchResultsBody">
                            <!-- Les lignes de résultats de recherche seront ajoutées ici par JavaScript -->
                            @foreach (var em in Model.DatabaseList)
                            {
                <tr>
                    <td>@em.DataBaseName</td>
                    <td>@em.Owner</td>
                    <td>@em.createdDate</td>
                    <td>@em.description</td>
                    <td style="text-align: center;">
                        <span class="status completed downdata-button" onclick="downloadFile('@em.DataBaseName')">
                            <i class='bx bxs-download' style="font-size: 14px;"></i>
                        </span>
                        <span class="status completed edit-button" style="background-color: green;" data-toggle="modal" data-target="#ModalBasedonneeUpdating" data-id="@em.idDataBase" onclick="EditBase(this)">
                            <i class='bx bx-edit' style="font-size: 14px;"></i>
                        </span>
                        <span class="status completed show-button" style="background-color: rgb(224, 159, 125);" data-toggle="modal" data-target="#exampleBasedonneeModal">
                            <i class='bx bx-show' style="font-size: 14px;"></i>
                        </span>
                    </td>
                </tr>
}
                        </tbody>
                    </table>
                </div>
            </div>



            <script>





            </script>
            <script type="text/javascript">

            </script>


            </table>



            </div>


            </div>

        </main>
        <!-- MAIN -->
    </section>
    <!-- CONTENT -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="height: 600px;overflow: auto;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Details de donnés</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="inputTitre" class="col-form-label">Titre:</label>


                        <label id="labelTitre" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputDateRéception" class="col-form-label">Date de Réception:</label>
                        <label id="labelDateRéception" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputDatePublication" class="col-form-label">Date de Publication:</label>
                        <label id="labelDatePublication" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputDateDernièreMiseàJour" class="col-form-label">Date Dernières Mise à Jour:</label>
                        <label id="labelDateDernièreMiseàJour" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputDescription" class="col-form-label">Description:</label>
                        <label id="labelDescription" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputCategorie" class="col-form-label">Catégorie:</label>
                        <label id="labelCategorie" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputTheme" class="col-form-label">Thème:</label>
                        <label id="labelTheme" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputCouverture" class="col-form-label">Couverture:</label>
                        <label id="labelCouverture" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputResolutionSpatial" class="col-form-label">Résolution Spatial:</label>
                        <label id="labelResolutionSpatial" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputResume" class="col-form-label">Résumé:</label>
                        <label id="labelResume" class="col-form-label"></label>
                    </div>
                    <div class="form-group">
                        <label for="inputFiles" class="col-form-label">Fichiers associés:</label>
                        <div id="labelFileSelection"></div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <script>

    </script>

    <div class="modal fade" id="exampleBasedonneeModal" tabindex="-1" role="dialog" aria-labelledby="exampleBasedonneeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="height: 600px; overflow: auto;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleBasedonneeModalLabel">Details base de données</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="col">
                        <label for="detailNom">Base de donnee:</label>
                        <p id="detailNom" class="form-control-plaintext"></p>
                    </div>
                    <div class="col">
                        <label for="detailProprietaire">Proprietaire:</label>
                        <p id="detailProprietaire" class="form-control-plaintext"></p>
                    </div>
                    <div class="col">
                        <label for="detailDateDeCreation">Date de création:</label>
                        <p id="detailDateDeCreation" class="form-control-plaintext"></p>
                    </div>
                    <div class="col">
                        <label for="detailDescription">Description:</label>
                        <p id="detailDescription" class="form-control-plaintext"></p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>




    <!-- Modal add -->
    <div class="modal fade" id="ModalAdding" tabindex="-1" role="dialog" aria-labelledby="ModalAddingLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <form id="formAjouterData" method="post" enctype="multipart/form-data">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Ajouter une donnée</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">


                        <div class="row">
                            <div class="col-md-6">
                                <!-- Champ Titre -->
                                <div class="form-group">
                                    <label for="inputTitre" class="col-form-label">Titre:</label>
                                    <input type="text" class="form-control" id="inputTitre" name="Title" required>
                                </div>

                                <!-- Champ Date de Réception -->
                                <div class="form-group">
                                    <label for="inputDateRéception" class="col-form-label">Date de Réception:</label>
                                    <input type="date" class="form-control" id="inputDateRéception" name="AcquisitionDate" required>
                                </div>

                                <!-- Champ Date de Publication -->
                                <div class="form-group">
                                    <label for="inputDatePublication" class="col-form-label">Date de Publication:</label>
                                    <input type="date" class="form-control" id="inputDatePublication" name="PublicationDate" required>
                                </div>

                                <!-- Champ Date Dernière Mise à Jour -->
                                <div class="form-group">
                                    <label for="inputDateDernièreMiseàJour" class="col-form-label">Date Dernières Mise à Jour:</label>
                                    <input type="date" class="form-control" id="inputDateDernièreMiseàJour" name="LastUpdatedDate">
                                </div>

                                <!-- Champ Description -->
                                <div class="form-group">
                                    <label for="inputDescription" class="col-form-label">Description:</label>
                                    <input type="text" class="form-control" id="inputDescription" name="Description" required>
                                </div>

                                <!-- Champ Catégorie -->
                                <div class="form-group">
                                    <label for="inputCategorie" class="col-form-label">Catégorie:</label>
                                    <select class="form-control" id="inputCategorie" name="Category" required>
                                        <option value="Télecommunication">Télecommunication</option>
                                        <option value="Eléctricité et l'Eeau">Eléctricité et l'Eeau</option>
                                        <option value="Contrôle de qualité">Contrôle de qualité</option>
                                        <option value="Chemin de fer">Chemin de fer</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <!-- Champ Thème -->
                                <div class="form-group">
                                    <label for="inputTheme" class="col-form-label">Thème:</label>
                                    <div class="input-group">
                                        <select class="form-control" id="inputTheme" name="Theme">
                                            @foreach (var theme in Model.Themes)
                                            {
                                <option value="@theme.IdTheme">@theme.nom</option>}
                                        </select>
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button" id="addThemeButton" data-toggle="modal" data-target="#ModalAddingTheme">Ajouter un thème</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Champ Nom de l'Industry -->
                                <div class="form-group">
                                    <label for="inputIndustryName" class="col-form-label">Nom de l'Industry:</label>
                                    <input type="text" class="form-control" id="inputIndustryName" name="IndustryName">
                                </div>

                                <!-- Champ Couverture -->
                                <div class="form-group row">
                                    <label for="inputCouverture" class="col-sm-3 col-form-label">Couverture:</label>
                                    <div class="dropdown">
                                        <button class="btn btn-secondary dropdown-toggle" style="width: 100%;background-color:white;color:black;" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                                            <span id="checkboxCount">0</span> Sélectionné(s)
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                            <li><label class="dropdown-item"><input type="checkbox" value="Casablanca" name="Coverage"> Casablanca</label></li>
                                            <li><label class="dropdown-item"><input type="checkbox" value="Rabat" name="Coverage"> Rabat</label></li>
                                            <li><label class="dropdown-item"><input type="checkbox" value="Kénitra" name="Coverage"> Kénitra</label></li>
                                            <li><label class="dropdown-item"><input type="checkbox" value="Agadir" name="Coverage"> Agadir</label></li>
                                            <li><label class="dropdown-item"><input type="checkbox" value="Fès" name="Coverage"> Fès</label></li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Champ Résolution Spatial -->
                                <div class="form-group">
                                    <label for="inputResolutionSpatial" class="col-form-label">Résolution Spatial:</label>
                                    <input type="text" class="form-control" id="inputResolutionSpatial" name="SpatialResolution">
                                </div>

                                <!-- Champ Système de Coordonnées -->
                                <div class="form-group">
                                    <label for="inputCoordinateSystem" class="col-form-label">Système de Coordonnées:</label>
                                    <div class="input-group">
                                        <select class="form-control" id="inputCoordinateSystem" name="CoordinateSystem">
                                            @foreach (var coordSystem in Model.CoordinateSystems)
                                            {
                                <option value="@coordSystem.IdCoordinateSystem">@coordSystem.Name</option>}
                                        </select>
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button" id="addCoordinateSystemButton" data-toggle="modal" data-target="#ModalAddingCoordinateSystem">Ajouter un système</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Champ Type de Donnée -->
                                <div class="form-group">
                                    <label for="inputDataType" class="col-form-label">Type de Donnée:</label>
                                    <div class="input-group">
                                        <select class="form-control" id="inputDataType" name="DataType">
                                            @foreach (var dataType in Model.DataTypes)
                                            {
                                <option value="@dataType.ID">@dataType.format</option>}
                                        </select>
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button" id="addDataTypeButton" data-toggle="modal" data-target="#ModalAddingDataType">Ajouter un Type</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Champ Résumé -->
                                <div class="form-group">
                                    <label for="inputResume" class="col-form-label">Résumé:</label>
                                    <input type="text" class="form-control" id="inputResume" name="Summary">
                                </div>

                                <!-- Formulaire pour le téléchargement des fichiers -->
                                <form id="formUploadFiles" method="post" enctype="multipart/form-data">
                                    <div class="form-group">
                                        <label for="existingFiles" class="col-form-label">Télécharger les fichiers :</label>
                                        <div style="display: flex; align-items: flex-start;">
                                            <table class="table table-bordered" id="existingFiles" style="width: auto; margin-right: 10px;">
                                                <thead>
                                                    <tr>
                                                        <th>Nom du fichier</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="existingFilesBody">
                                                    <!-- Les lignes seront insérées ici par JavaScript -->
                                                </tbody>
                                            </table>
                                            <!-- Section d'upload -->
                                            <div class="upload-icon-wrapper" style="display: flex; align-items: center;">
                                                <label for="fileUploadInput" class="btn btn-secondary btn-sm" style="margin-right: 10px;">
                                                    <i class="fas fa-upload"></i>
                                                </label>
                                                <input type="file" id="fileUploadInput" name="file" style="display: none;">
                                            </div>
                                        </div>
                                    </div>
                                </form>


                                <!-- Champ Sélectionner la Base de Données -->

                                <div class="form-group">
                                    <label class="col-sm-3 col-form-label" style="white-space: nowrap;">Base de Données:</label>

                                    <div class="dropdown" style="width: 100%; max-width: 300px;">
                                        <button class="btn btn-secondary dropdown-toggle" style="width: 100%; background-color:white; color:black;" type="button" id="inputDatabase" data-bs-toggle="dropdown" aria-expanded="false">
                                            <span id="checkboxCount">0</span> Sélectionné(s)
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="inputDatabase">
                                            <li>
                                                <label class="dropdown-item">
                                                    <input type="checkbox" value="none" name="SelectedDataBases" /> Aucune base de données
                                                </label>
                                            </li>
                                            @foreach (var database in Model.DatabaseList)
                                            {
                                <li>
                                    <label class="dropdown-item">
                                        <input type="checkbox" value="@database.idDataBase" name="SelectedDataBases" /> @database.DataBaseName
                                    </label>
                                </li>
}
                                        </ul>
                                    </div>

                                </div>

                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                            <button type="submit" class="btn btn-primary">Ajouter</button>
                        </div>

                    </div>
                </div>
            </form>

        </div>
    </div>

    <script>
        function handleFiles() {
            var input = document.getElementById('fileUploadInputAdd');
            var files = input.files;

            if (files.length === 0) {
                alert('Aucun fichier sélectionné.');
                return;
            }

            for (var i = 0; i < files.length; i++) {
                console.log('Fichier sélectionné:', files[i].name);
                // Traitez chaque fichier comme vous le souhaitez ici.
            }
        }
    </script>

    <script>
        // Déclencher le clic de l'input file lorsque l'utilisateur clique sur l'icône
        document.querySelector('.upload-icon-wrapper label').addEventListener('click', function () {
            document.getElementById('fileUploadInput').click();
        });
    </script>






    <div class="modal fade" id="ModalAddingCoordinateSystem" tabindex="-1" role="dialog" aria-labelledby="coordinateSystemModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="coordinateSystemModalLabel">Ajouter un Système de Coordonnées</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="inputCoordinateSystemName" class="col-form-label">Nom:</label>
                        <input type="text" class="form-control" id="inputCoordinateSystemName">
                    </div>
                    <div class="form-group">
                        <label for="inputCoordinateSystemDescription" class="col-form-label">Description:</label>
                        <textarea class="form-control" id="inputCoordinateSystemDescription"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" id="btnAddCoordinateSystem" class="btn btn-primary">Ajouter</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="ModalAddingDataType" tabindex="-1" role="dialog" aria-labelledby="dataTypeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="dataTypeModalLabel">Ajouter un Type de Donnée</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="inputDataTypeFormat" class="col-form-label">Format:</label>
                        <input type="text" class="form-control" id="inputDataTypeFormat">
                    </div>
                    <div class="form-group">
                        <label for="inputDataTypeDescription" class="col-form-label">Description:</label>
                        <textarea class="form-control" id="inputDataTypeDescription"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" id="btnAddDataType" class="btn btn-primary">Ajouter</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="ModalAddingTheme" tabindex="-1" role="dialog" aria-labelledby="themeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="themeModalLabel">Ajouter un Thème</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="inputThemeName" class="col-form-label">Nom du Thème:</label>
                        <input type="text" class="form-control" id="inputThemeName">
                    </div>
                    <div class="form-group">
                        <label for="inputThemeDescription" class="col-form-label">Description:</label>
                        <textarea class="form-control" id="inputThemeDescription"></textarea>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" id="btnAddTheme" class="btn btn-primary">Ajouter</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="ModalAddingIndustry" tabindex="-1" role="dialog" aria-labelledby="industryModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="industryModalLabel">Ajouter une Industrie</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="inputIndustryName" class="col-form-label">Nom de l'Industrie:</label>
                        <input type="text" class="form-control" id="inputIndustryName">
                    </div>


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" id="btnAddIndustry" class="btn btn-primary">Ajouter</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        function loadCoordinateSystems() {
            $.ajax({
                type: 'GET',
                url: '/Data/GetCoordinateSystems',
                success: function (coordinateSystems) {
                    var $select = $('#inputCoordinateSystem');
                    $select.empty(); // Vider la liste existante
                    $.each(coordinateSystems, function (index, system) {
                        $select.append('<option value="' + system.coordinateSystemId + '">' + system.name + '</option>');
                    });
                },
                error: function (xhr, status, error) {
                    alert('Une erreur est survenue lors du chargement des systèmes de coordonnées.');
                    console.log('Status: ' + status);
                    console.log('Error: ' + error);
                    console.log('Response: ' + xhr.responseText);
                }
            });
        }

    </script>

    <script>
    $(document).ready(function() {
        $('#btnAddCoordinateSystem').click(function() {
            var name = $('#inputCoordinateSystemName').val();
            var description = $('#inputCoordinateSystemDescription').val();

            $.ajax({
                url: '@Url.Action("AddCoordinateSystem", "Data")',
                type: 'POST',
                data: {
                    name: name,
                    description: description
                },
                success: function(response) {
                    if (response.success) {


                        // Affichez une alerte de succès avec SweetAlert2
                        Swal.fire({
                            icon: 'success',
                            title: 'Succès ! 🎉',
                            text: 'Le système de coordonnées a été ajouté avec succès.',
                            confirmButtonText: 'OK',
                            confirmButtonColor: '#3085d6'
                        }).then((result) => {
                            if (result.isConfirmed) {
                                // Fermez le modal

                                $('#ModalAddingCoordinateSystem').modal('hide');
                                loadCoordinateSystems();
                            }
                        });
                    } else {
                        Swal.fire({
                            icon: 'error',
                            title: 'Erreur ! ❌',
                            text: response.message,
                            confirmButtonText: 'OK',
                            confirmButtonColor: '#d33'
                        });
                    }
                },
                error: function() {
                    Swal.fire({
                        icon: 'error',
                        title: 'Erreur ! ❌',
                        text: 'Erreur lors de l\'ajout du système de coordonnées.',
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#d33'
                    });
                }
            });
        });
        loadCoordinateSystems();
    });
    </script>
    <script>
        function loadDataTypes() {
            $.ajax({
                type: 'GET',
                url: '/Data/GetDataTypes',
                success: function (dataTypes) {
                    var $select = $('#inputDataType');
                    $select.empty(); // Vider la liste existante
                    $.each(dataTypes, function (index, dataType) {
                        $select.append('<option value="' + dataType.dataTypeId + '">' + dataType.format + '</option>');
                    });
                },
                error: function (xhr, status, error) {
                    alert('Une erreur est survenue lors du chargement des types de données.');
                    console.log('Status: ' + status);
                    console.log('Error: ' + error);
                    console.log('Response: ' + xhr.responseText);
                }
            });
        }

    </script>

    <script>

    $(document).ready(function() {
        $('#btnAddDataType').click(function() {
            var format = $('#inputDataTypeFormat').val();
            var description = $('#inputDataTypeDescription').val();

            $.ajax({
                url: '@Url.Action("AddDataType", "Data")',
                type: 'POST',
                data: {
                    format: format,
                    description: description
                },
                success: function(response) {
                    if (response.success) {


                        // Affichez une alerte de succès avec SweetAlert2
                        Swal.fire({
                            icon: 'success',
                            title: 'Succès ! 🎉',
                            text: 'Le type de données a été ajouté avec succès.',
                            confirmButtonText: 'OK',
                            confirmButtonColor: '#3085d6'
                        }).then((result) => {
                            if (result.isConfirmed) {
                                // Fermez le modal
                                $('#ModalAddingDataType').modal('hide');
                                loadDataTypes();
                            }
                        });
                    } else {
                        Swal.fire({
                            icon: 'error',
                            title: 'Erreur ! ❌',
                            text: response.message,
                            confirmButtonText: 'OK',
                            confirmButtonColor: '#d33'
                        });
                    }
                },
                error: function() {
                    Swal.fire({
                        icon: 'error',
                        title: 'Erreur ! ❌',
                        text: 'Erreur lors de l\'ajout du type de données.',
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#d33'
                    });
                }
            });
        });
        loadDataTypes();
    });
    </script>
    <script>
        function loadThemes() {
            $.ajax({
                type: 'GET',
                url: '/Data/GetThemes',
                success: function (themes) {
                    var $select = $('#inputTheme');
                    $select.empty(); // Vider la liste existante
                    $.each(themes, function (index, theme) {
                        $select.append('<option value="' + theme.themeId + '">' + theme.nom + '</option>');
                    });
                },
                error: function (xhr, status, error) {
                    alert('Une erreur est survenue lors du chargement des thèmes.');
                    console.log('Status: ' + status);
                    console.log('Error: ' + error);
                    console.log('Response: ' + xhr.responseText);
                }
            });
        }

    </script>

    <script>
        $(document).ready(function() {
    $('#btnAddTheme').click(function() {
        var nom = $('#inputThemeName').val();
        var description = $('#inputThemeDescription').val();

        $.ajax({
            url: '@Url.Action("AddTheme", "Data")',
            type: 'POST',
            data: {
                nom: nom,
                description: description
            },
            success: function(response) {
                if (response.success) {


                    // Affichez une alerte de succès avec SweetAlert2
                    Swal.fire({
                        icon: 'success',
                        title: 'Succès ! 🎉',
                        text: 'Le thème a été ajouté avec succès.',
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#3085d6'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            // Fermez le modal
                            $('#ModalAddingTheme').modal('hide');
                            loadThemes();
                        }
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Erreur ! ❌',
                        text: response.message,
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#d33'
                    });
                }
            },
            error: function() {
                Swal.fire({
                    icon: 'error',
                    title: 'Erreur ! ❌',
                    text: 'Erreur lors de l\'ajout du thème.',
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#d33'
                });
            }
        });
    });
            loadThemes();
});

    </script>

    <script>
        $(document).ready(function() {
    $('#btnAddIndustry').click(function() {
        var nom = $('#inputIndustryName').val();


        $.ajax({
            url: '@Url.Action("AddIndustry", "Data")',
            type: 'POST',
            data: {
                nom: nom

            },
            success: function(response) {
                if (response.success) {
                    // Ajoutez la nouvelle industry au combo box
                    $('#industryComboBox').append($('<option>', {
                        value: response.industryId,
                        text: response.nom
                    }));

                    // Affichez une alerte de succès avec SweetAlert2
                    Swal.fire({
                        icon: 'success',
                        title: 'Succès ! 🎉',
                        text: 'L\'industry a été ajoutée avec succès.',
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#3085d6'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            // Fermez le modal
                            $('#ModalAddingIndustry').modal('hide');
                        }
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Erreur ! ❌',
                        text: response.message,
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#d33'
                    });
                }
            },
            error: function() {
                Swal.fire({
                    icon: 'error',
                    title: 'Erreur ! ❌',
                    text: 'Erreur lors de l\'ajout de l\'industry.',
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#d33'
                });
            }
        });
    });
});

    </script>











    <script>
        function addDatadon() {
            var form = $('#dataForm');
            var token = $('input[name="__RequestVerificationToken"]', form).val();
            var coordinateSystemId = $('#inputCoordinateSystem').val();


            var newData = {
                __RequestVerificationToken: token,
                Title: $('#inputTitre').val(),
                AcquisitionDate: $('#inputDateRéception').val(),
                PublicationDate: $('#inputDatePublication').val(),
                LastUpdatedDate: $('#inputDateDernièreMiseàJour').val(),
                Description: $('#inputDescription').val(),
                Category: $('#inputCategorie').val(),
                ThemeId: $('#inputTheme').val(),

                IndustryName: $('#inputIndustryName').val(),

                CoordinateSystemId: coordinateSystemId,
                DataTypeId: $('#inputDataType').val(),

                Coverage: $('input[name="Coverage"]:checked').map(function () { return this.value; }).get(),
                SpatialResolution: $('#inputResolutionSpatial').val(),
                Summary: $('#inputResume').val()





            };

            $.ajax({
                url: form.attr('action'),
                type: 'POST',
                data: newData,
                success: function (response) {
                    if (response.success) {
                        $('#ModalAdding').modal('hide'); // Ferme le modal après l'ajout réussi
                        alert(response.message); // Affiche un message de succès
                        location.reload(); // Recharge la page pour refléter les modifications
                    } else {
                        alert(response.message); // Affiche un message d'erreur si l'ajout a échoué
                    }
                },
                error: function () {
                    alert("Une erreur s'est produite lors de l'ajout de la donnée.");
                }
            });
        }
    </script>
    <script>

        function populateData(button) {
            var dataId = $(button).attr('data-id');
            $('#dataId').val(dataId);

            $.ajax({
                url: '/Data/GetById/' + dataId,
                type: 'GET',
                success: function (response) {
                    console.log('Réponse reçue :', response);
                    if (response.success) {
                        var data = response.data;
                        console.log("Fichiers récupérés :", response.files);
                        console.log('Données :', response.data);
                        console.log('Fichiers :', response.files);
                        // Afficher les messages de débogage
                        if (response.debugMessages && response.debugMessages.length > 0) {
                            console.log('Messages de débogage :');
                            response.debugMessages.forEach(function (message) {
                                console.log(message);
                            });
                        }


                        console.log("Data retrieved: ", data); // Vérifiez les données récupérées dans la console
                        // Mettez à jour les champs du formulaire modal avec les données récupérées
                        $('#inputTitreUpdate').val(data.Title);
                        $('#inputDateRéceptionUpdate').val(data.AcquisitionDate ? data.AcquisitionDate.split('T')[0] : '');
                        $('#inputDatePublicationUpdate').val(data.PublicationDate.split('T')[0]);
                        $('#inputDateDernierMiseàJourUpdate').val(data.LastUpdatedDate.split('T')[0]);

                        $('#inputDescriptionUpdate').val(data.Description);
                        $('#inputThemeUpdate').val(data.Theme ? data.Theme.nom : '');
                        $('#inputCouvertureUpdate').val(data.Coverage);
                        $('#inputResolutionSpatialUpdate').val(data.SpatialResolution);
                        $('#inputResumeUpdate').val(data.Summary);
                        $('#inputCategorieUpdate').val(data.Category);





                        // Afficher les fichiers existants directement dans le script
                        function displayFiles(files, dataId) {
                            console.log("Fichiers récupérés pour l'affichage:", files);
                            var filesHtml = '';
                            files.forEach(function (file) {
                                filesHtml += `<tr>
                                                                                    <td>${file.FileName}</td>
                                                                                    <td style="text-align: center;">
                                                                                        <button type="button" class="status completed delete-file-btn" data-filename="${file.FileName}" data-collaborationid="${dataId}">
                                                                                            <i class="fas fa-trash"></i>
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>`;
                            });

                            $('#existingFilesBodymo').html(filesHtml);

                            // Afficher le modal
                            $('#ModalUpdating').modal('hide');
                        }

                        displayFiles(response.files, dataId);




                        // Gestion du changement de fichier
                        $('#fileUploadInputmo').on('change', function () {
                            var formData = new FormData();
                            var fileInput = $('#fileUploadInputmo')[0].files[0];
                            var dataId = $('#dataId').val();
                            // Ajoutez un console.log pour vérifier si un fichier est sélectionné
                            console.log("Fichier sélectionné:", fileInput);

                            if (!fileInput) {
                                alert("Veuillez sélectionner un fichier à télécharger.");
                                return;
                            }

                            formData.append('file', fileInput);
                            formData.append('dataId', dataId);

                            $.ajax({
                                url: '/Data/UploadDataFile',
                                type: 'POST',
                                data: formData,
                                contentType: false,
                                processData: false,
                                success: function (response) {
                                    // Affichez les messages de débogage dans la console du navigateur
                                    // Affiche la réponse complète dans la console
                                    console.log("Réponse du serveur:", response);

                                    // Afficher directement les messages de débogage s'ils existent
                                    if (response.debug && response.debug.length > 0) {
                                        console.log("Messages de débogage reçus:", response.debug.join("\n"));
                                    } else {
                                        console.log("Aucun message de débogage reçu.");
                                    }
                                    if (response.success) {
                                        Swal.fire({
                                            title: 'Succès!',
                                            text: 'Fichier téléchargé avec succès.',
                                            icon: 'success',
                                            confirmButtonText: 'OK'
                                        });

                                        var newRow = `<tr>
                                                                                            <td>${fileInput.name}</td>
                                                                                            <td style="text-align: center;">
                                                                                                <button type="button" class="status completed delete-file-btn" data-filename="${fileInput.name}"data-collaborationid="${dataId}">
                                                                                                    <i class="fas fa-trash"></i>
                                                                                                </button>
                                                                                            </td>
                                                                                        </tr>`;
                                        $('#existingFilesBodymo').append(newRow);
                                    } else {
                                        Swal.fire({
                                            title: 'Erreur!',
                                            text: response.message,
                                            icon: 'error',
                                            confirmButtonText: 'OK'
                                        });
                                    }
                                },
                                error: function (xhr, status, error) {
                                    console.error("AJAX Error: ", status, error);
                                    Swal.fire({
                                        title: 'Erreur!',
                                        text: 'Une erreur est survenue lors du téléchargement du fichier.',
                                        icon: 'error',
                                        confirmButtonText: 'OK'
                                    });
                                }
                            });
                        });

                    } else {
                        alert(response.message);
                    }
                },
                error: function (xhr, status, error) {
                    console.error("AJAX Error: ", status, error);
                    alert("Une erreur est survenue lors de la récupération des données.");
                }
            });

            $(document).ready(function () {
                // Gestion de la suppression des fichiers
                $('#existingFilesBodymo').on('click', '.delete-file-btn', function () {
                    var fileName = $(this).data('filename');
                    var dataId = $('#dataId').val(); // Récupérer l'ID des données associées
                    console.log("Nom du fichier à supprimer : ", fileName);

                    // Confirmation avant la suppression
                    Swal.fire({
                        title: 'Êtes-vous sûr ?',
                        text: "Vous ne pourrez pas annuler cette action !",
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonText: 'Oui, supprimer!',
                        cancelButtonText: 'Non, annuler'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            // Requête AJAX pour supprimer le fichier
                            $.ajax({
                                url: '/Data/DeleteFile',
                                type: 'POST',
                                data: { fileName: fileName, dataId: dataId },
                                success: function (response) {
                                    if (response.success) {
                                        Swal.fire({
                                            title: 'Succès!',
                                            text: 'Fichier supprimé avec succès.',
                                            icon: 'success',
                                            confirmButtonText: 'OK'
                                        });

                                        // Supprimer la ligne du tableau correspondant au fichier
                                        $(`button[data-filename="${fileName}"]`).closest('tr').remove();
                                    } else {
                                        Swal.fire({
                                            title: 'Erreur!',
                                            text: response.message,
                                            icon: 'error',
                                            confirmButtonText: 'OK'
                                        });
                                    }
                                },
                                error: function (xhr, status, error) {
                                    console.error("AJAX Error: ", status, error);
                                    Swal.fire({
                                        title: 'Erreur!',
                                        text: 'Une erreur est survenue lors de la suppression du fichier.',
                                        icon: 'error',
                                        confirmButtonText: 'OK'
                                    });
                                }
                            });
                        }
                    });
                });
            });

        }
    </script>




    <div class="modal fade" id="ModalUpdating" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modifier une donnée</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputTitreUpdate" class="col-form-label">Titre:</label>
                                <input type="text" class="form-control" id="inputTitreUpdate">
                            </div>
                            <div class="form-group">
                                <label for="inputDateRéceptionUpdate" class="col-form-label">Date de Réception:</label>
                                <input type="date" class="form-control" id="inputDateRéceptionUpdate">
                            </div>
                            <div class="form-group">
                                <label for="inputDatePublicationUpdate" class="col-form-label">Date de Publication:</label>
                                <input type="date" class="form-control" id="inputDatePublicationUpdate">
                            </div>
                            <div class="form-group">
                                <label for="inputDateDernierMiseàJourUpdate" class="col-form-label">Date Dernière Mise à Jour:</label>
                                <input type="date" class="form-control" id="inputDateDernierMiseàJourUpdate">
                            </div>
                            <div class="form-group">
                                <label for="inputDescriptionUpdate" class="col-form-label">Description:</label>
                                <textarea type="text" class="form-control" id="inputDescriptionUpdate" rows="5"></textarea>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="inputThemeUpdate" class="col-form-label">Thème:</label>
                                <input type="text" class="form-control" id="inputThemeUpdate">
                            </div>
                            <div class="form-group row">
                                <label for="inputCouvertureUpdate" class="col-sm-3 col-form-label">Couverture:</label>
                                <div class="dropdown">
                                    <button class="btn btn-secondary" style="width: 100%; background-color: white; color: black;" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                                        Sélectionner Couverture
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="inputCouvertureUpdate" id="inputCouvertureUpdate">
                                        <li><label class="dropdown-item"><input type="checkbox" id="coverage-Casablanca" name="coverage" value="Casablanca"> Casablanca</label></li>
                                        <li><label class="dropdown-item"><input type="checkbox" id="coverage-Rabat" name="coverage" value="Rabat"> Rabat</label></li>
                                        <li><label class="dropdown-item"><input type="checkbox" id="coverage-Kénitra" name="coverage" value="Kénitra"> Kénitra</label></li>
                                        <li><label class="dropdown-item"><input type="checkbox" id="coverage-Agadir" name="coverage" value="Agadir"> Agadir</label></li>
                                        <li><label class="dropdown-item"><input type="checkbox" id="coverage-Fès" name="coverage" value="Fès"> Fès</label></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputResolutionSpatialUpdate" class="col-form-label">Résolution Spatial:</label>
                                <input type="text" class="form-control" id="inputResolutionSpatialUpdate">
                            </div>
                            <div class="form-group">
                                <label for="inputResumeUpdate" class="col-form-label">Résumé:</label>
                                <input type="text" class="form-control" id="inputResumeUpdate">
                            </div>
                            <div class="form-group">
                                <label for="inputCategorieUpdate" class="col-form-label">Catégorie:</label>
                                <select class="form-control" id="inputCategorieUpdate">
                                    <option value="Télecommunication">Télecommunication</option>
                                    <option value="Eléctricité et l'Eeau">Eléctricité et l'Eeau</option>
                                    <option value="Contrôle de qualité">Contrôle de qualité</option>
                                    <option value="Chemin de fer">Chemin de fer</option>
                                </select>
                            </div>
                            <!-- Affichage des fichiers existants -->
                            <div class="form-group">
                                <label for="existingFiles" class="col-form-label">Fichiers Existants:</label>
                                <div style="display: flex; align-items: flex-start;">
                                    <table class="table table-bordered" id="existingFiles" style="width: auto; margin-right: 10px;">
                                        <thead>
                                            <tr>
                                                <th>Nom du fichier</th>
                                                <th style="text-align: center;">Supprimer</th>
                                            </tr>
                                        </thead>
                                        <tbody id="existingFilesBodymo">
                                            <!-- Les lignes seront insérées ici par JavaScript -->
                                        </tbody>
                                    </table>
                                    <!-- Section d'upload -->
                                    <div class="upload-icon-wrapper" style="display: flex; align-items: center;">
                                        <label for="fileUploadInputmo" class="btn btn-secondary btn-sm" style="margin-right: 10px;">
                                            <i class="fas fa-upload"></i>
                                        </label>
                                        <input type="file" class="form-control-file" id="fileUploadInputmo" name="file" style="display: none;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Champ caché pour l'ID -->
                    <input type="hidden" id="dataId" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-success" onclick="submitUpdate()">Modifier</button>
                </div>
            </div>
        </div>
    </div>





    <div class="modal fade" id="ModalBasedonneeAdding" tabindex="-1" role="dialog" aria-labelledby="ModalAddingLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ModalAddingLabel">Ajouter la base de données</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="databaseForm" method="post" action="@Url.Action("Create", "DatabaseInfo")">
                        @Html.AntiForgeryToken()
                        <div class="form-group">
                            <label for="inputBasededonnee" class="col-form-label">Base de données:</label>
                            <input type="text" class="form-control" id="inputBasededonnee" name="DatabaseName">
                        </div>
                        <div class="form-group">
                            <label for="inputPropriete" class="col-form-label">Propriétaire:</label>
                            <input type="text" class="form-control" id="inputPropriete" name="Owner">
                        </div>
                        <div class="form-group">
                            <label for="inputDateDeCreation" class="col-form-label">Date de Création:</label>
                            <input type="date" class="form-control" id="inputDateDeCreation" name="createdDate">
                        </div>
                        <div class="form-group">
                            <label for="inputDescriptionadd" class="col-form-label">Description:</label>
                            <input class="form-control" id="inputDescriptionadd" name="description">
                        </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-primary" onclick="addDatabase()">Ajouter</button>
                </div>
            </div>
        </div>
    </div>



    <div class="modal fade" id="ModalBasedonneeUpdating" tabindex="-1" role="dialog" aria-labelledby="exampleBasedonneeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ModalBasedonneeUpdatingLabel">Modifier la base de données</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="databaseUpdateForm">
                        @Html.AntiForgeryToken()
                        <input type="hidden" id="databaseId" name="idDatabase" />
                        <div class="form-group">
                            <label for="inputBasededonneeUpdate" class="col-form-label">Base de données:</label>
                            <input type="text" class="form-control" id="inputDataBaseNameUpdate" name="DataBaseName">
                        </div>
                        <div class="form-group">
                            <label for="inputProprietaireUpdate" class="col-form-label">Propriétaire:</label>
                            <textarea class="form-control" id="inputOwnerUpdate" name="Owner" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="inputDateDeCreationUpdate" class="col-form-label">Date de Création:</label>
                            <input type="date" class="form-control" id="inputCreationDateUpdate" name="createdDate">
                        </div>
                        <div class="form-group">
                            <label for="inputDescriptionssUpdate" class="col-form-label">Description:</label>
                            <textarea class="form-control" id="inputDescriptionBaseUpdate" name="description" rows="5"></textarea>
                        </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-success" onclick="updateDatabase()">Modifier</button>
                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>



    <script src="~/Content/Scripts/scriptDonnee.js"></script>
    <script src="~/Content/Scripts/scriptDonneeUser.js"></script>
    <script src="~/Content/Scripts/Data.js"></script>
    <script src="~/Content/Scripts/script.js"></script>


</body>
</html>